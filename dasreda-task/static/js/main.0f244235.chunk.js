(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{409:function(e,t,n){e.exports=n(868)},868:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n.n(i),r=n(56),l=n(20),o=n.n(l),s=(n(414),n(48)),c=n(49),d=n(51),u=n(50),m=n(52),v=n(43),k=n(237),f=n(77),p=n(161),g=n(21),b=n(27),h={mobileS:"320px",mobileM:"375px",mobileL:"425px",tablet:"768px",laptop:"1024px",laptopL:"1440px",desktop:"2560px"},y={mobileS:"(min-width: ".concat(h.mobileS,")"),mobileM:"(min-width: ".concat(h.mobileM,")"),mobileL:"(min-width: ".concat(h.mobileL,")"),tablet:"(min-width: ".concat(h.tablet,")"),laptop:"(min-width: ".concat(h.laptop,")"),laptopL:"(min-width: ".concat(h.laptopL,")"),desktop:"(min-width: ".concat(h.desktop,")"),desktopL:"(min-width: ".concat(h.desktop,")")};function S(){var e=Object(g.a)(["\n\tcolor: #999;\n\n\t@media "," {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t}\n"]);return S=function(){return e},e}function O(){var e=Object(g.a)(["\n\tpadding: 0.5rem 1rem;\n"]);return O=function(){return e},e}function N(){var e=Object(g.a)(["\n\tmargin: 0;\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n\ttext-align: center;\n\n\t@media "," {\n\t\ttext-align: left;\n\t}\n"]);return N=function(){return e},e}function j(){var e=Object(g.a)(["\n\tmargin-bottom: 1rem;\n\tpadding: 0.5rem 1.25rem;\n"]);return j=function(){return e},e}function F(){var e=Object(g.a)([""]);return F=function(){return e},e}var w=b.a.div(F()),E=b.a.div(j()),L=b.a.h3(N(),y.tablet),C=b.a.p(O()),D=b.a.div(S(),y.mobileL);var x=function(e){var t=e.loading,n=e.error,i=e.items,r=e.loadingComponent;return t?r:n?"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438! ".concat(n.message):a.a.createElement(w,null,i.map(function(e){var t=e.id,n=e.name,i=e.description,r=e.url,l=e.license,o=e.createdAt,s=e.stars;return a.a.createElement(E,{key:t},a.a.createElement(L,null,a.a.createElement("a",{href:r,target:"_blank",rel:"noopener noreferrer"},n)),a.a.createElement(C,null,i),a.a.createElement(D,null,a.a.createElement("div",null,a.a.createElement("span",null,"\u041b\u0438\u0446\u0435\u043d\u0437\u0438\u044f ",l||"\u043d\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0430"),", \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0437\u0432\u0451\u0437\u0434 ",s),a.a.createElement("div",null,"\u0421\u043e\u0437\u0434\u0430\u043d ",o)))}))};function q(){var e=Object(g.a)(["\n\tmargin: 2rem auto;\n\tfont-size: 10px;\n\tposition: relative;\n\ttext-indent: -9999em;\n\tborder-top: 1.1em solid rgba(60, 60, 255, 0.2);\n\tborder-right: 1.1em solid rgba(60, 60, 255, 0.2);\n\tborder-bottom: 1.1em solid rgba(60, 60, 255, 0.2);\n\tborder-left: 1.1em solid #ffffff;\n\t-webkit-transform: translateZ(0);\n\t-ms-transform: translateZ(0);\n\ttransform: translateZ(0);\n\t-webkit-animation: load8 1.1s infinite linear;\n\tanimation: load8 1.1s infinite linear;\n\n\t&,\n\t&:after {\n\t\tborder-radius: 50%;\n\t\twidth: 10em;\n\t\theight: 10em;\n\t}\n\n\t@-webkit-keyframes load8 {\n\t\t0% {\n\t\t\t-webkit-transform: rotate(0deg);\n\t\t\ttransform: rotate(0deg);\n\t\t}\n\t\t100% {\n\t\t\t-webkit-transform: rotate(360deg);\n\t\t\ttransform: rotate(360deg);\n\t\t}\n\t}\n\t@keyframes load8 {\n\t\t0% {\n\t\t\t-webkit-transform: rotate(0deg);\n\t\t\ttransform: rotate(0deg);\n\t\t}\n\t\t100% {\n\t\t\t-webkit-transform: rotate(360deg);\n\t\t\ttransform: rotate(360deg);\n\t\t}\n\t}\n"]);return q=function(){return e},e}var A=b.a.div(q());function Q(){var e=Object(g.a)(["\n\ttext-align: center;\n\tpadding: 3rem 0;\n"]);return Q=function(){return e},e}var T=b.a.div(Q()),V=function(e){return a.a.createElement(T,null,a.a.createElement(A,null),"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0441\u043f\u0438\u0441\u043a\u0430 \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u0435\u0432...")};function I(){var e=Object(g.a)(["\n\ttext-align: center;\n"]);return I=function(){return e},e}function M(){var e=Object(g.a)(["\n\tpadding-bottom: 3rem;\n"]);return M=function(){return e},e}var R=b.a.div(M()),G=b.a.div(I()),$=function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.repositoriesList,n=e.onNextClick;return a.a.createElement(R,null,a.a.createElement(x,Object.assign({},t,{loadingComponent:a.a.createElement(V,null)})),t.items.length>=10&&a.a.createElement(G,null,a.a.createElement(v.Button,{onClick:n,appearance:"primary"},"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0435\u0449\u0451")))}}]),t}(i.PureComponent);var P={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"RepositoriesList"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"queryString"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cursor"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cost"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"remaining"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resetAt"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"search"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"queryString"}}},{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"REPOSITORY"}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"cursor"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repositoryCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cursor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Repository"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"licenseInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"stargazers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:416,source:{body:"query RepositoriesList($queryString: String!, $cursor: String) {\n\trateLimit {\n\t\tcost\n\t\tremaining\n\t\tresetAt\n\t}\n\tsearch(query: $queryString, type: REPOSITORY, first: 10, after: $cursor) {\n\t\trepositoryCount\n\t\tedges {\n\t\t\tcursor\n\t\t\tnode {\n\t\t\t\t... on Repository {\n\t\t\t\t\tid\n\t\t\t\t\tname\n\t\t\t\t\tdescription\n\t\t\t\t\turl\n\t\t\t\t\tlicenseInfo {\n\t\t\t\t\t\tname\n\t\t\t\t\t}\n\t\t\t\t\tstargazers {\n\t\t\t\t\t\ttotalCount\n\t\t\t\t\t}\n\t\t\t\t\tcreatedAt\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},z=[Object(r.b)({kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"filters"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"license"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:49,source:{body:"query {\n\tfilters @client {\n\t\tname\n\t\tlicense\n\t}\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},{name:"filtersList"}),Object(r.b)(P,{name:"repositoriesList",options:function(e){var t=e.filtersList.filters,n=t.license,i=void 0===n?"":n,a=t.name,r=void 0===a?"":a;return{variables:{queryString:B.getQueryString({license:i,name:r})},context:{debounceKey:"repositoriesList",debounceTimeout:500}}}})],B=function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return a.a.createElement($,{repositoriesList:this.repositoriesList,onNextClick:this.nextClickHandler})}},{key:"repositoriesList",get:function(){var e=this.props.repositoriesList,t=e.loading,n=e.error,i=e.search,a=t||n||!i?[]:i.edges.map(function(e){var t=e.node,n=e.cursor;return Object(f.a)({cursor:n},t,{stars:t.stargazers.totalCount,license:t.licenseInfo?t.licenseInfo.name:""})});return Object(f.a)({},this.props.repositoriesList,{items:a})}},{key:"nextClickHandler",get:function(){var e=this;return function(){var n=e.props,i=n.repositoriesList,a=i.fetchMore,r=i.loading,l=i.error,o=i.search,s=n.filtersState.license,c=n.debounceFiltersState.name;if(!r&&!l&&o){var d=o.edges[o.edges.length-1].cursor;a({query:P,variables:{queryString:t.getQueryString({license:s,name:c}),cursor:d},updateQuery:function(e,t){var n=t.fetchMoreResult;return Object(f.a)({},e,{search:Object(f.a)({},e.search,{edges:[].concat(Object(k.a)(e.search.edges),Object(k.a)(n.search.edges))})})}})}}}}]),t}(i.Component);B.getQueryString=function(e){var t=e.license,n=e.name,i="";return t.length>0&&(i+=" license:".concat(t)),'language:JavaScript "'.concat(n,'" in:name sort:stars created:>=').concat(function(){var e=new Date;return e.setMonth(e.getMonth()-1),"".concat(e.getFullYear(),"-").concat("".concat(e.getMonth()+1).padStart(2,"0"),"-").concat(e.getDate().toString().padStart(2,"0"))}()).concat(i)};var J=p.a.apply(void 0,z)(B),Y=n(155);var Z=function(e){var t=e.value,n=e.onChange,i=e.licenses;return a.a.createElement(v.SelectPicker,{data:i.map(function(e){var t=e.name;return{value:e.key,label:t}}),placeholder:"\u041b\u0438\u0446\u0435\u043d\u0437\u0438\u044f...",onChange:n,value:t,style:{width:"100%"}})};var _=function(e){var t=e.value,n=e.onChange;return a.a.createElement(v.Input,{placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435...",onChange:n,value:t})};function H(){var e=Object(g.a)(["\n\tpadding: 0.25rem;\n"]);return H=function(){return e},e}function U(){var e=Object(g.a)(["\n\t@media "," {\n\t\tpadding: 1rem 0;\n\t\tdisplay: flex;\n\n\t\t& > * {\n\t\t\tflex: 1;\n\t\t\tmax-width: 25rem;\n\t\t}\n\t}\n"]);return U=function(){return e},e}var W=b.a.div(U(),y.mobileL),K=b.a.div(H()),X=function(e){function t(){var e,n;Object(s.a)(this,t);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(n=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(a)))).handleChangeFilter=function(e){return function(t){return n.props.onFiltersUpdate(Object(Y.a)({},e,t||""))}},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.filters,n=e.licenses;return a.a.createElement(W,null,a.a.createElement(K,null,a.a.createElement(Z,{licenses:n,value:t.license,onChange:this.handleChangeFilter("license")})),a.a.createElement(K,null,a.a.createElement(_,{value:t.name,onChange:this.handleChangeFilter("name")})))}}]),t}(i.PureComponent);X.defaultProps={licenses:[]};var ee=[Object(r.b)({kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"filters"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"license"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:49,source:{body:"query {\n\tfilters @client {\n\t\tname\n\t\tlicense\n\t}\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},{name:"filtersList"}),Object(r.b)({kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"licenses"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:38,source:{body:"query {\n\tlicenses {\n\t\tname\n\t\tkey\n\t}\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},{name:"licensesList"}),Object(r.b)({kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"updateFilters"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"filters"}},type:{kind:"NamedType",name:{kind:"Name",value:"Filters"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateFilters"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filters"},value:{kind:"Variable",name:{kind:"Name",value:"filters"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}]}]}}],loc:{start:0,end:88,source:{body:"mutation updateFilters($filters: Filters) {\n\tupdateFilters(filters: $filters) @client\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},{props:function(e){var t=e.mutate;return{updateFilters:function(e){return t({variables:{filters:e}})}}}})],te=function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return a.a.createElement(X,{filters:this.props.filtersList.filters,actions:this.props.actions,licenses:this.props.licensesList.licenses,onFiltersUpdate:this.props.updateFilters})}}]),t}(i.Component),ne=p.a.apply(void 0,ee)(te),ie=function(e){return a.a.createElement(v.Container,null,a.a.createElement(v.Content,null,a.a.createElement(v.Grid,null,a.a.createElement(ne,null),a.a.createElement(J,null))))},ae=function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return a.a.createElement(ie,null)}}]),t}(i.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var re=n(93),le=n(406),oe=n(22),se=n(405),ce=n(403),de=n.n(ce),ue=n(404),me=n.n(ue);function ve(){var e=Object(g.a)(["\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tfilters {\n\t\t\t\t\t\t\t\tname\n\t\t\t\t\t\t\t\tlicense\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t"]);return ve=function(){return e},e}var ke={kind:"Document",definitions:[{kind:"ObjectTypeExtension",name:{kind:"Name",value:"Filters"},interfaces:[],directives:[],fields:[{kind:"FieldDefinition",name:{kind:"Name",value:"name"},arguments:[],type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"FieldDefinition",name:{kind:"Name",value:"license"},arguments:[],type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}]}],loc:{start:0,end:55,source:{body:"extend type Filters {\n\tname: String\n\tlicense: String\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},fe="https://api.github.com/graphql";var pe,ge=function(){var e=new le.a,t=oe.ApolloLink.from([new de.a(250),new se.a({uri:fe,headers:{authorization:"Bearer ".concat("80c02981d4665b10eafea15c4c58e1929f1f9bc3")}})]);return e.writeData({data:{filters:{__typename:"Filters",name:"",license:""}}}),new re.a({cache:e,link:t,typeDefs:ke,resolvers:{Mutation:{updateFilters:function(e,t,n){var i=t.filters,a=n.cache,r=me()(ve()),l=a.readQuery({query:r}).filters;return a.writeData({data:{filters:Object(f.a)({},l,i)}}),null}}}})}();o.a.render((pe=ae,a.a.createElement(r.a,{client:ge},a.a.createElement(pe,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[409,1,2]]]);
//# sourceMappingURL=main.0f244235.chunk.js.map